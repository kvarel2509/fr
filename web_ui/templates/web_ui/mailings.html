{% extends 'web_ui/base.html' %}


{% block content %}
    <div class="control">
        <a href={% url 'web_ui:mailing_create' %}><button>Создать рассылку</button></a>
        <a href={% url 'web_ui:mailings_report' %}><button>Отчет по всем рассылкам</button></a>
    </div>
    <table class="mailings">
        <thead>
            <tr>
                <th class="mailing_id">Номер</th>
                <th class="start_date">Дата старта</th>
                <th class="message">Сообщение</th>
                <th class="filters">Фильтр клиентов</th>
                <th class="end_date">Дата принудительного завершения</th>
                <th class="time_interval_start">Старт интервала времени приема сообщения</th>
                <th class="time_interval_end">Конец интервала времени приема сообщения</th>
            </tr>
        </thead>
        <tbody>
            {% for object in object_list %}
                <tr onclick="window.location.href = `{% url 'web_ui:mailing' mailing_id=object.pk %}`">
                    <td class="mailing_id">{{ object.pk }}</td>
                    <td class="start_date">{{ object.start_date }}</td>
                    <td class="message">{{ object.message }}</td>
                    <td class="filters">{{ object.filters }}</td>
                    <td class="end_date">{{ object.end_date }}</td>
                    <td class="time_interval_start">{{ object.time_interval_start }}</td>
                    <td class="time_interval_end">{{ object.time_interval_end }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}


{% block head %}
    <style>
        .mailings
        {
            width: 100%;
        }
        table.mailings, .mailings td, .mailings th
        {
            border: 1px solid black;
        }
        .mailings thead
        {
            position: sticky;
            top: 0;
        }
        .mailings th
        {
            border: 1px solid black;
            background: white;
            font-size: 1.2em;
            padding: 10px;
        }
        .mailings tbody tr
        {
            height: 50px;
        }
        .mailings tbody tr:hover
        {
            background: #000000;
            color: white;
            transition: 0.5s;
            cursor: pointer;
        }

    </style>
{% endblock %}
